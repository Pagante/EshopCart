{% extends 'base.html' %} 
{% load static %}
{% load humanize %}
{% block content %}

<!--Section: Products v.3-->
<section class="text-center mb-4 container">
	
	<div class="row wow fadeIn">
		{% if products %}
		{% for product in products %}
	  <div class="col-lg-3 col-md-6 mb-4">

		<!--Card-->
		<div class="card">

		  <!--Card image-->
		  <div class="view overlay">
			<a  href="{{product.get_url}}">
			  <div class="mask rgba-white-slight"></div>
			  <img src="{{ product.images.url }}" class="card-img-top" style="max-height: 100%;max-width: 100%; width: auto; height: auto;" alt="product Image">
			</a>
		  </div>
		  <!--Card image-->

		  <!--Card content-->
		  <div class="card-body text-center">
			<!--Category & Title-->
			<h5>
			  <strong>
				<a href="{{product.get_url}}" class="dark-grey-text">{{ product.product_name }}</a>
			  </strong>
			</h5>

			<h4 class="font-weight-bold blue-text">
			  <strong>â‚¦{{product.price | intcomma}}</strong>
			</h4>

		  </div>
		  <!--Card content-->

		</div>
		<!--Card-->

	  </div>
	  <!--Fourth column-->
	  {% endfor %}
	  {% else %}
	  <div>
		<h2>No result found. Please try again.</h2>
	  </div>
	  {% endif %}

	</div>
	<!--Grid row-->
		

	</div>
	<!--Grid row-->

  </section>
  <!--Section: Products v.3-->

  <!--Pagination-->
  <nav class="d-flex justify-content-center wow fadeIn">
	{% if products.has_other_pages %}
	<ul class="pagination pg-blue">
		{% if products.has_previous %}
	  <!--Arrow left-->
	  <li class="page-item">
		<a class="page-link" href="?page={{products.previous_page_number}}" aria-label="Previous">
		  <span aria-hidden="true">&laquo;</span>
		  <span class="sr-only">Previous</span>
		</a>
	  </li>
	  {% else %}
	  <li class="page-item disabled">
		<a class="page-link" href="#" aria-label="Previous">
		  <span aria-hidden="true">&laquo;</span>
		  <span class="sr-only">Previous</span>
		</a>
	  </li>
	  {% endif %}
	  	{% for i in products.paginator.page_range %}
        {% if products.number == i %}
	  <li class="page-item active">
		<a class="page-link" href="#">{{i}}
		  <span class="sr-only">(current)</span>
		</a>
	  </li>
	  	{% else %}
		  <li class="page-item">
			<a class="page-link" href="?page={{i}}">{{i}}
			  <!-- <span class="sr-only">(current)</span> -->
			</a>
		  </li>
		{% endif %}
		{% endfor %}
	  
	  {% if products.has_next %}
	  <li class="page-item">
		<a class="page-link" href="?page={{products.next_page_number}}" aria-label="Next">
		  <span aria-hidden="true">&raquo;</span>
		  <span class="sr-only">Next</span>
		</a>
	  </li>
	  {% else %}
	  <li class="page-item disabled">
		<a class="page-link" href="#" aria-label="Next">
		  <span aria-hidden="true">&raquo;</span>
		  <span class="sr-only">Next</span>
		</a>
	  </li>
	  {% endif %}
	</ul>
	{% endif %}
  </nav>
  <!--Pagination-->

</div>
</main>
<!--Main layout-->

{% endblock %}